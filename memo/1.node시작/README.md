# Node.js란?

우선 Node란 무엇일까? node란 흔히 서버라고 생각하는 경우가 많다. 나 역시도 한 때 node는 javascript로 동작하는 서버라고 생각했다. 반은 맞고 반은 틀리지만 node는 절대 서버는 아니다.

node를 정의하면

<aside>
💡 **node.js 는 크롬 V8 자바스크립트 엔진으로 이루어진 런타임이다.**

</aside>

런타임은 간단히 표현하면 실행기이다. 

과거 자바스크립트는 웹 HTML에 종속되어 있는 언어였기에 웹에서만 실행이 가능했는데 node를 통해 자바스크립트를 웹이 아닌곳에서 실행가능 하게 된 것.

## 그럼 node가 서버란 말은 왜?...

Node가 서버란 말이 반은 맞고 반은 틀린 말이다. node가 서버란 말은 javascript 코드를 통해 Node에서 서버 역할을 수행할 수 있게 할 수 있다.

다시한번 말한다. Node가 서버의 역할을 할수 있는것이지 Node가 서버는 아니다. Node는 단순히 자바스크립트를 실행할 수 있게 하는 실행기다.

# Node의 구조

![nodejs구조](https://user-images.githubusercontent.com/31761527/150630335-8aaf726e-39da-413a-bd5e-dfcbf59cfd18.jpeg)

Node.js 는 다음과 같은 구조를 가지고 있다. Node 를 공부하면서 node는 전부 JS 언어로 구성되지 않았다는 점이다.  c++과 같이 존재한다.

Node.js에 기본적인 모듈이 존재하는데 c++ 과 JS 가 반반 섞여 있다.

- node에 존재하는 libuv란 부분은 전부 c++로 존재하면 여기에 node에서 사용하는 필수적인 모듈을 가지고 있음

# Node는 싱글스레드, 논블로킹 , 비동기 I/O 이다.

싱글스레드, 논블로킹 , 비동기 I/O 그게 먼데

### 동기와 비동기

- 동기 : 동기는 순서대로 실행하는 것이다 .즉 1,2,3,4 순서대로 있으면 무조건 1,2,3,4 로 실행하는것
- 비동기는 : 순서대로 실행할 수 도 있고 안할수도 있다. 1,2,3,4 순서대로 있다고하면 1,2,3,4 실행할 수도 있지만 1,4,3,2 이렇게 실행할 수 도 있다.

### 블로킹과 논블로킹

- 블로킹 : 작업을 하다 다른 작업을 시작하면 다른 작업이 끝날때 기다리다가 끝나면 다시 원래 작업실행
- 논블로킹 : 작업을 하다 다른작업에 일을 부여 하고 자신의 작업을 계속진행, 다른작업이 끝나면 그 작업을 받음

### 싱글스레드와 멀티스레드

- 싱글스레드
    - 직원이 한명
    - 장점 : 다른 작업 신경 필요 없고 내 작업만 집중하면됨
    - 단점 : 많은 작업을 하기에 힘듬
- 멀티스레드
    - 직원이 여러명
    - 많은 작업을 효율적으로 할 수 있음
    - 일이 적을땐 오히려 비효율적일 수도 있음, 일 처리 배분하는 데 힘듬

## Node가 진짜 싱글스레드임?

정확히 말하면 Node는 싱글 스레드가 아니다. Node가 싱글스레드라고 하는 이유는 Node에서 자바스크립트를 동작할 때 실행하는 스레드는 한개 이므로 Node를 싱글 스레드라고 한다. 이 싱글 스레드에서 동작하는 것이 event-loop이다.

event-loop는 다음 파티에 다루자.

### **그럼 다른스레드는?**

libuv에서 자바스크립트가 아닌 다른 작업을 할때 싱글 스레드로만 동작하지 않음

node에서 자바스크립트 영역으로만 봤을때는 싱글 스레드 동작함

> 근데 node 14 버전 부터 워커 스레드를 통해 멀티 스레드 동작이 가능하게 됨! 하지만 이렇게 동작하게 하기 매우 어려움... 일단 알아만 둡시다.!
>
